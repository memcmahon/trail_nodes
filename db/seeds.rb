require 'nokogiri'

Node.destroy_all

trails = [{file_name: "sky-pond.gpx", trail_id: 7002175},
          {file_name: "emerald-lake.gpx", trail_id: 7000276},
          {file_name: "royal-arch.gpx", trail_id: 7004682},
          {file_name: "walker-rach.gpx", trail_id: 7002439},
          {file_name: "sunshine-lions-lair-loop.gpx", trail_id: 7004226},
          {file_name: "monarch-lake-to-crater-lake.gpx", trail_id: 7006663},
          {file_name: "bear-peak.gpx", trail_id: 7000130},
          {file_name: "boulder-skyline-traverse.gpx", trail_id: 7011192},
          {file_name: "mount-sanitas-loop.gpx", trail_id: 7000000},
          {file_name: "ouzel-falls-back.gpx", trail_id: 7018920},
          {file_name: "longs-peak-keyhole-route.gpx", trail_id: 7000487},
          {file_name: "green-mountain-via-rangersaddle-rock-loop.gpx", trail_id: 7011191},
          {file_name: "high-lonesome-loop.gpx", trail_id: 7006795},
          {file_name: "best-of-bear-lake-area-loop.gpx", trail_id: 7001090},
          {file_name: "chasm-lake.gpx", trail_id: 7001041},
          {file_name: "pawnee-buchanan-loop.gpx", trail_id: 7010213},
          {file_name: "mt-bierstadt-west-slopes.gpx", trail_id: 7001739},
          {file_name: "chavez-and-beaver-brook-trail-loop.gpx", trail_id: 7011049},
          {file_name: "grays-and-torreys-peaks.gpx", trail_id: 7003636},
          {file_name: "south-arapaho-peak.gpx", trail_id: 7006885},
          {file_name: "deer-creek.gpx", trail_id: 7006771},
          {file_name: "mt-galbraith-park-loop.gpx", trail_id: 7004911},
          {file_name: "loch-vale.gpx", trail_id: 7001581},
          {file_name: "bear-lake-th-to-fern-lake-th.gpx", trail_id: 7001096},
          {file_name: "north-table-loop-trail.gpx", trail_id: 7000141},
          {file_name: "cub-lake-loop.gpx", trail_id: 7009683},
          {file_name: "maxwell-falls-loop.gpx", trail_id: 7012750},
          {file_name: "hessie-to-lost-lake.gpx", trail_id: 7006672},
          {file_name: "matthewswinters-red-rocks-loop.gpx", trail_id: 7003978},
          {file_name: "betasso-preserve.gpx", trail_id: 7001019},
          {file_name: "mountain-lion-trail.gpx", trail_id: 7009076},
          {file_name: "lumpy-ridge-loop.gpx", trail_id: 7009685},
          {file_name: "golden-gate-canyon-state-park-loop.gpx", trail_id: 7017973},
          {file_name: "beaver-boardwalk.gpx", trail_id: 7006537},
          {file_name: "rogers-pass.gpx", trail_id: 7007306},
          {file_name: "byers-peak.gpx", trail_id: 7006044},
          {file_name: "summit-cove-to-tiger-road-loop.gpx", trail_id: 7002502},
          {file_name: "storm-mountain.gpx", trail_id: 7002427},
          {file_name: "shanahan-ridge.gpx", trail_id: 7000078},
          {file_name: "red-rocks-and-dakota-ridge-loop.gpx", trail_id: 7048586},
          {file_name: "dirty-bismark.gpx", trail_id: 7041440},
          {file_name: "crater-trail.gpx", trail_id: 7000536},
          {file_name: "arapaho-glacier-trail.gpx", trail_id: 7003402},
          {file_name: "twin-sisters-trail.gpx", trail_id: 7000557},
          {file_name: "mule-deer-trail.gpx", trail_id: 7018006},
          {file_name: "coney-lake-trail-914.gpx", trail_id: 7034090},
          {file_name: "rock-house-trail.gpx", trail_id: 7033084},
          {file_name: "bergen-peak-trail.gpx", trail_id: 7006734},
          {file_name: "green-mountain-west-ridge.gpx", trail_id: 7004594},
          {file_name: "arthurs-rock-trail.gpx", trail_id: 7003352},
          {file_name: "south-boulder-creek-trail.gpx", trail_id: 7001575},
          {file_name: "bluebird-lake-trail.gpx", trail_id: 7000441},
          {file_name: "east-inlet-trail.gpx", trail_id: 7000450},
          {file_name: "grubstake-loop.gpx", trail_id: 7008893},
          {file_name: "mt-evans-trail.gpx", trail_id: 7002239},
          {file_name: "devils-elbow.gpx", trail_id: 7003080},
          {file_name: "lily-lake-trail.gpx", trail_id: 7000475},
          {file_name: "castle-trail.gpx", trail_id: 7003079},
          {file_name: "canyon-loop.gpx", trail_id: 7001071},
          {file_name: "chautauqua-trail.gpx", trail_id: 7000320},
          {file_name: "mount-falcon-west-loop.gpx", trail_id: 7003096},
          {file_name: "mount-chiquita.gpx", trail_id: 7020452},
          {file_name: "upper-ute-trail-out-and-back.gpx", trail_id: 7001049},
          {file_name: "north-diamond-peak.gpx", trail_id: 7045525},
          {file_name: "longs-peak-valley-loop.gpx", trail_id: 7010985},
          {file_name: "mesa-cortina-to-gore-range-trail-out-and-back.gpx", trail_id: 7002491},
          {file_name: "colorado-trail-georgia-pass-to-breckenridge.gpx", trail_id: 7002559},
          {file_name: "deer-moutain-loop.gpx", trail_id: 7001070},
          {file_name: "dakota-ridge-to-sanitas-valley-loop.gpx", trail_id: 7006781},
          {file_name: "loch-lomond-7011.gpx", trail_id: 7047350},
          {file_name: "north-table-mountain-short-loop.gpx", trail_id: 7037259},
          {file_name: "barr-lake-rookery.gpx", trail_id: 7015153},
          {file_name: "pawnee-pass-trail.gpx", trail_id: 7004460},
          {file_name: "summit-trail.gpx", trail_id: 7027955},
          {file_name: "cdt-herman-gulch-to-berthoud-pass-co-sec-31.gpx", trail_id: 7016069},
          {file_name: "stormy-peaks-trail.gpx", trail_id: 7000544},
          {file_name: "cdt-monarch-lake-to-grand-lake-co-sec-35.gpx", trail_id: 7016075},
          {file_name: "gem-lake-trail.gpx", trail_id: 7000306},
          {file_name: "forsythe-canyon-trail.gpx", trail_id: 7007036},
          {file_name: "mount-sanitas-trail.gpx", trail_id: 138},
          {file_name: "black-bear-trail.gpx", trail_id: 7017977},
          {file_name: "ypsilon-trail.gpx", trail_id: 7000568},
          {file_name: "sandbeach-lake-trail.gpx", trail_id: 7000531},
          {file_name: "laughing-horse-loop.gpx", trail_id: 7005197},
          {file_name: "star-k-ranch-loop.gpx", trail_id: 7009520},
          {file_name: "alluvial-fan-trail.gpx", trail_id: 7000267},
          {file_name: "angler-mountain-trail.gpx", trail_id: 7002486},
          {file_name: "sapphire-point-trail.gpx", trail_id: 7003020},
          {file_name: "blue-mitchell-lake.gpx", trail_id: 7004315},
          {file_name: "mount-falcon-east-loop.gpx", trail_id: 7003101},
          {file_name: "ten-mile-range-traverse.gpx", trail_id: 7033040},
          {file_name: "matthews-winters-lollipop.gpx", trail_id: 7028968},
          {file_name: "squaretop-mountain.gpx", trail_id: 7017418},
          {file_name: "red-deer-lake.gpx", trail_id: 7002461},
          {file_name: "brainard-lake-snowshoe-trail.gpx", trail_id: 7046990},
          {file_name: "heil-picture-rock-combo.gpx", trail_id: 7004042},
          {file_name: "brainard-gateway-figure-8.gpx", trail_id: 7010639},
          {file_name: "state-forest-state-park-north-loop.gpx", trail_id: 7021245},
          {file_name: "hogback-ridge-loop.gpx", trail_id: 7005429},
          {file_name: "jaycee-to-carpenter-park-lakes-loop.gpx", trail_id: 7013516},
          {file_name: "mills-lake-black-lake-trail.gpx", trail_id: 7000499},
          {file_name: "chasm-lake-trail.gpx", trail_id: 7000445},
          {file_name: "cdt-south-boulder-creek-to-rollins-pass.gpx", trail_id: 7004781},
          {file_name: "mummy-pass-trail.gpx", trail_id: 7000508},
          {file_name: "lenawee-trail.gpx", trail_id: 7036129},
          {file_name: "beaver-brook-trail.gpx", trail_id: 7003758},
          {file_name: "north-fork-trail.gpx", trail_id: 7000488},
          {file_name: "blue-sky.gpx", trail_id: 7004323},
          {file_name: "mallory-cave-trail.gpx", trail_id: 7004928},
          {file_name: "thunder-lake-trail.gpx", trail_id: 7000545},
          {file_name: "forest-service-road-153.gpx", trail_id: 7000545},
          {file_name: "sawmill-trail.gpx", trail_id: 7003323},
          {file_name: "saint-vrain-glacier-trail.gpx", trail_id: 7005732},
          {file_name: "groovy-uvi-trail-9086.gpx", trail_id: 7002638},
          {file_name: "alpine-ridge-trail.gpx", trail_id: 7000417},
          {file_name: "old-ute.gpx", trail_id: 7003081},
          {file_name: "boulder-brook-trail.gpx", trail_id: 7000442},
          {file_name: "shadow-pine-loop.gpx", trail_id: 7021656},
          {file_name: "mount-morrison.gpx", trail_id: 7027384},
          {file_name: "mount-ida-ascent.gpx", trail_id: 7020661},
          {file_name: "apex-enchanted-lollipop.gpx", trail_id: 7029252},
          {file_name: "city-park-loop.gpx", trail_id: 7011837},
          {file_name: "golden-summit-trail.gpx", trail_id: 7005455},
          {file_name: "flagstaff-summit-loop.gpx", trail_id: 7004555},
          {file_name: "east-mag-tour.gpx", trail_id: 7010666},
          {file_name: "south-mesa-loop.gpx", trail_id: 7004681},
          {file_name: "cub-creek-to-staunton-state-park.gpx", trail_id: 7020713},
          {file_name: "sand-creek-tour.gpx", trail_id: 7009519},
          {file_name: "lulu-city-out-and-back.gpx", trail_id: 7000578},
          {file_name: "coyote-run-harper-lake-davidson-mesa-louisville-res.gpx", trail_id: 7009680},
          {file_name: "flattop-mountain-trail.gpx", trail_id: 7000459},
          {file_name: "cascade-trail.gpx", trail_id: 7004038},
          {file_name: "moose-meadow-trail.gpx", trail_id: 7004038},
          {file_name: "south-fork-trail-21.gpx", trail_id: 7038054},
          {file_name: "blue-lake-trail.gpx", trail_id: 7041844},
          {file_name: "king-lake-trail.gpx", trail_id: 7004570},
          {file_name: "rawhide-trail.gpx", trail_id: 7001674},
          {file_name: "american-lakes-trail.gpx", trail_id: 7004318},
          {file_name: "skunk-canyon-trail.gpx", trail_id: 7000067},
          {file_name: "finch-lake-pear-lake-trail.gpx", trail_id: 7000457},
          {file_name: "hidden-valley-trail.gpx", trail_id: 7004350},
          {file_name: "hay-trail.gpx", trail_id: 7002754},
          {file_name: "chimney-gulch.gpx", trail_id: 7001688},
          {file_name: "sleepy-lion.gpx", trail_id: 7032602},
          {file_name: "crystal-lake-trail.gpx", trail_id: 7000292},
          {file_name: "bear-canyon-trail.gpx", trail_id: 7000292},
          {file_name: "benjamin-loop.gpx", trail_id: 7001063},
          {file_name: "south-boulder-creek-west.gpx", trail_id: 7004927},
          {file_name: "bear-peak-summit-trail.gpx", trail_id: 7000133},
          {file_name: "three-sisters-loop.gpx", trail_id: 7025006},
          {file_name: "rainbow-lakes.gpx", trail_id: 7033776},
          {file_name: "mummy-kill-route-mummy-marathon.gpx", trail_id: 7043092},
          {file_name: "adams-falls-loop.gpx", trail_id: 7000570},
          {file_name: "highline-canal-trail.gpx", trail_id: 7008385},
          {file_name: "trading-post-trail.gpx", trail_id: 7005090},
          {file_name: "poll-hill-road.gpx", trail_id: 7002371},
          {file_name: "lookout-peak-trail.gpx", trail_id: 7000018},
          {file_name: "green-mountain-short-tour.gpx", trail_id: 7048325},
          {file_name: "mesa-reservoir-loop.gpx", trail_id: 7004519},
          {file_name: "keyhole-balloon.gpx", trail_id: 7026784},
          {file_name: "first-second-flatiron-trail.gpx", trail_id: 7003752},
          {file_name: "mesa-trail.gpx", trail_id: 7000068},
          {file_name: "crater-lake-trail.gpx", trail_id: 7003860},
          {file_name: "boy-scout.gpx", trail_id: 7002938},
          {file_name: "palisade-mountain-summit.gpx", trail_id: 7035639},
          {file_name: "south-dakota-ridge-trail.gpx", trail_id: 7035742},
          {file_name: "ceran-saint-vrain-trail.gpx", trail_id: 7031846},
          {file_name: "woodland-lake-trail.gpx", trail_id: 7004574},
          {file_name: "green-bear.gpx", trail_id: 7010672},
          {file_name: "wapiti-trail.gpx", trail_id: 7004043},
          {file_name: "mt-galbraith-loop.gpx", trail_id: 7005730},
          {file_name: "turkey-trot.gpx", trail_id: 7003085},
          {file_name: "geologic-overlook-trail.gpx", trail_id: 7048969},
          {file_name: "haynach-lakes-trail.gpx", trail_id: 7000465},
          {file_name: "dakota-ridge-trail.gpx", trail_id: 7001692},
          {file_name: "sprague-lake-loop-trail.gpx", trail_id: 7000537},
          {file_name: "fern-canyon.gpx", trail_id: 7000072},
          {file_name: "parmalee-trail.gpx", trail_id: 7003084},
          {file_name: "mill-creek-trail.gpx", trail_id: 7003329},
          {file_name: "crosier-mountain-garden-gate-trail-931.gpx", trail_id: 7037130},
          {file_name: "centennial-cone-loop.gpx", trail_id: 7010705},
          {file_name: "marshall-mesa-to-spring-brook-loop.gpx", trail_id: 7017569},
          {file_name: "beaver-brook-out-and-back.gpx", trail_id: 7003496},
          {file_name: "long-lake.gpx", trail_id: 7004465},
          {file_name: "cascade-falls-and-big-pool.gpx", trail_id: 7000572},
          {file_name: "horsetooth-falls-out-and-back.gpx", trail_id: 7021992},
          {file_name: "back-ranch-loop.gpx", trail_id: 7002475},
          {file_name: "the-brother.gpx", trail_id: 7019424},
          {file_name: "shadow-mountain.gpx", trail_id: 7001052},
          {file_name: "summit-cove-soda-creek-groovy-uvi.gpx", trail_id: 7002484},
          {file_name: "school-bus-loop.gpx", trail_id: 7031006},
          {file_name: "chicago-lakes-trail-52.gpx", trail_id: 7006776},
          {file_name: "lake-haiyaha-trail.gpx", trail_id: 7001045},
          {file_name: "enchanted-forest.gpx", trail_id: 7001690},
          {file_name: "saints-john-road-fdr-275.gpx", trail_id: 7045607},
          {file_name: "clear-lake-trail.gpx", trail_id: 7004347},
          {file_name: "contrivance.gpx", trail_id: 7037408},
          {file_name: "fern-odessa-lake-trail.gpx", trail_id: 7000423},
          {file_name: "evergreen-mountain-trail.gpx", trail_id: 7003112},
          {file_name: "deer-mountain-trail.gpx", trail_id: 7000295},
          {file_name: "crater-lakes-trail-819.gpx", trail_id: 7004613},
          {file_name: "skeleton-gulch-trail.gpx", trail_id: 7000533},
          {file_name: "chapin-pass-trail.gpx", trail_id: 7021074},
          {file_name: "viewpoint-trail.gpx", trail_id: 7001628},
          {file_name: "emmaline-lake.gpx", trail_id: 7019421},
          {file_name: "gregory-canyon.gpx", trail_id: 7004626},
          {file_name: "coyote-song-trail.gpx", trail_id: 7010720},
          {file_name: "estes-cone-trail.gpx", trail_id: 7001025},
          {file_name: "swallow-trail.gpx", trail_id: 7010719},
          {file_name: "rim-rock-trail.gpx", trail_id: 7001693},
          {file_name: "mount-audubon.gpx", trail_id: 7004398},
          {file_name: "ptarmigan-trail.gpx", trail_id: 7004398},
          {file_name: "mount-flora.gpx", trail_id: 7040340},
          {file_name: "deer-mountain.gpx", trail_id: 7009692},
          {file_name: "gem-lake-and-balanced-rock.gpx", trail_id: 7001055},
          {file_name: "green-mountain-tour.gpx", trail_id: 7003386},
          {file_name: "squaw-mountain.gpx", trail_id: 7019205},
          {file_name: "sugarloaf-mountain.gpx", trail_id: 7005887},
          {file_name: "maxwell-natural-area-ridge.gpx", trail_id: 7001396},
          {file_name: "evergreen-lake-trail.gpx", trail_id: 7005454},
          {file_name: "teller-farm-the-tank.gpx", trail_id: 7001540},
          {file_name: "rattlesnake-gulch-trail.gpx", trail_id: 7004848},
          {file_name: "diamond-lake-trail.gpx", trail_id: 7004576},
          {file_name: "ct-segment-7.gpx", trail_id: 7011020},
          {file_name: "kelly-lake-trail.gpx", trail_id: 7004349},
          {file_name: "emerald-lake-trail.gpx", trail_id: 7001046},
          {file_name: "carey-springs-trail.gpx", trail_id: 7003333},
          {file_name: "dream-lake-trail.gpx", trail_id: 7001047},
          {file_name: "hallett-peak-approach.gpx", trail_id: 7001043},
          {file_name: "lake-of-the-cloud-trail.gpx", trail_id: 7000474},
          {file_name: "timber-trail.gpx", trail_id: 7003330},
          {file_name: "flowers-trail-939.gpx", trail_id: 7010685},
          {file_name: "south-fork-trail-1138.gpx", trail_id: 7020021},
          {file_name: "tanglewood-trail-636.gpx", trail_id: 7018790},
          {file_name: "cedar-gulch-trail.gpx", trail_id: 7005729},
          {file_name: "south-boulder-peak.gpx", trail_id: 7000134},
          {file_name: "bruin-bluff-trail.gpx", trail_id: 7021783},
          {file_name: "nightbird-gulch.gpx", trail_id: 7017747},
          {file_name: "goshawk-ridge.gpx", trail_id: 7004845},
          {file_name: "wild-basin-trail.gpx", trail_id: 7001020},
         ]

trails.each do |trail|
  path = File.expand_path("../xml_files/#{trail[:file_name]}", __FILE__)
  doc = Nokogiri::XML(open(path))
  points = doc.xpath('//xmlns:trkpt')

  points.each do |point|
    lat = point.xpath('@lat').to_s.to_f
    lon = point.xpath('@lon').to_s.to_f
    ele = point.text.strip.to_f
    Node.create!(trail_id: trail[:trail_id], latitude: lat,
                longitude: lon, elevation: ele)
    puts "Created Node #{Node.last.id}"
  end
end
